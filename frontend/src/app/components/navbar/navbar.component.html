<header class="navbar">
     <div #ccpContainer id="ccp-container" style="display:none;"></div>

  <div class="nav-left">
    <span class="nav-title">{{ title() }}</span>
  </div>

  <div class="nav-center">
    <div class="agent-status">
      <span>Status:</span>
      <select [(ngModel)]="agentStatus" (change)="updateStatus(agentStatus)">
        <option value="Available">Available</option>
        <option value="Busy">Busy</option>
        <!-- <option value="Break">Break</option>
        <option value="Lunch">Lunch Break</option> -->
      </select>
    </div>
   <!-- Add this button temporarily for testing
<button (click)="testAgentStatus()" style="background:orange;color:white;padding:5px;">
  Test Agent Status
</button>

Make sure this shows current state
<div style="background:yellow;padding:5px;margin:5px;">
  Debug: callState = "{{ callState }}" | hasIncomingContact = {{ !!incomingContact }}
</div> -->

    <!-- <div class="call-controls" *ngIf="callState === 'Ringing'"  >
      <button class="accept-btn" (click)="acceptCall()">Accept</button>
      <button class="reject-btn"   (click)="rejectCall()">Reject</button>
    </div> -->

<div class="call-controls" *ngIf="callState === 'Ringing'">
  <button class="accept-btn" (click)="acceptCall()">Accept</button>
  <button class="reject-btn" (click)="rejectCall()">Reject</button>
</div>


<div class="call-controls" *ngIf="callState === 'Connected'">
  <button class="end-call-btn" (click)="endCall()">End Call</button>
</div>

  </div>

  <div class="nav-right">
    <div class="dialpad-wrapper">
      <button class="dialpad-toggle" (click)="toggleDialPad()">Dialed Pad</button>
      <div class="dialpad" *ngIf="showDialPad">
        <div class="dial-display">
  <input type="text" [(ngModel)]="dialedNumber" placeholder="Enter number..." class="dial-input" (paste)="onPaste($event)">
  <button class="backspace" (click)="backspace()"> ⌫</button>
</div>

        <!-- <div class="dial-display">{{ dialedNumber || 'Enter number...' }} <button class="backspace" (click)="backspace()"> ⌫</button></div> -->
        <div class="dial-actions">
          <button class="call-btn" (click)="makeCall()" [disabled]="!dialedNumber">Call</button>
          <button class="clear-btn" (click)="clearNumber()">Clear</button>
        </div>
        <div class="dial-row">
          <button (click)="dial('1')">1</button>
          <button (click)="dial('2')">2</button>
          <button (click)="dial('3')">3</button>
        </div>
        <div class="dial-row">
          <button (click)="dial('4')">4</button>
          <button (click)="dial('5')">5</button>
          <button (click)="dial('6')">6</button>
        </div>
        <div class="dial-row">
          <button (click)="dial('7')">7</button>
          <button (click)="dial('8')">8</button>
          <button (click)="dial('9')">9</button>
        </div>
        <div class="dial-row">
          <button (click)="dial('+')">+</button>
          <button (click)="dial('0')">0</button>
          <button (click)="dial('#')">#</button>
        </div>
      </div>
    </div>

    <button (click)="onLogout()" class="userbutton logout-btn">Logout</button>
  </div>
</header>
